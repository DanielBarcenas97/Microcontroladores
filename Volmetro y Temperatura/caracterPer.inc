;////////////////////////////////CARACTER DEL VOLMETRO///////////////////////

LOADCARACTERVOLMETRO				;CARGA LA PILA

	BCF RS
	MOVLW B'01000000'				;comando para escribir en la CGRAM
	MOVWF PORTB
	CALL LCD_E
	CALL RETARDO_5MS
	BSF RS
;---------------METE LAS 8 COLUMNAS DE LA IMAGEN------------
	MOVLW H'00' ; 					;IMAGEN SUPERIOR 0% Y 25%
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS
	MOVLW H'0E' ; 
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS
	MOVLW H'11' ; 
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS
	MOVLW H'11' ; 
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS
	MOVLW H'11' ; 
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS
	MOVLW H'11' ; 
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS
	MOVLW H'11' ; 
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS
	MOVLW H'11' ; 
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS

;---------------METE LAS 8 COLUMNAS DE LA IMAGEN 2------------
	MOVLW H'00' ; 						;IMAGEN SUPERIOR 50% 
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS
	MOVLW H'0E' ; 
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS
	MOVLW H'11' ; 
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS
	MOVLW H'11' ; 
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS
	MOVLW H'11' ; 
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS
	MOVLW H'11' ; 
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS
	MOVLW H'13' ; 
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS
	MOVLW H'17' ; 
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS

;---------------METE LAS 8 COLUMNAS DE LA IMAGEN 3------------
	MOVLW H'00' ; 						;IMAGEN SUPERIOR 75%
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS
	MOVLW H'0E' ; 
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS
	MOVLW H'11' ; 
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS
	MOVLW H'11' ; 
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS
	MOVLW H'13' ; 
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS
	MOVLW H'17' ; 
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS
	MOVLW H'1F' ; 
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS
	MOVLW H'1F' ; 
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS

;---------------METE LAS 8 COLUMNAS DE LA IMAGEN 4------------
	MOVLW H'00' ; 					;IMAGEN SUPERIOR 100%
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS
	MOVLW H'0E' ; 
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS
	MOVLW H'1F' ; 
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS
	MOVLW H'1F' ; 
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS
	MOVLW H'1F' ; 
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS
	MOVLW H'1F' ; 
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS
	MOVLW H'1F' ; 
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS
	MOVLW H'1F' ; 
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS

;---------------METE LAS 8 COLUMNAS DE LA IMAGEN 5------------
	MOVLW H'11' ; 					;IMAGEN INFERIOR 0%
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS
	MOVLW H'11' ; 
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS
	MOVLW H'11' ; 
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS
	MOVLW H'11' ; 
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS
	MOVLW H'11' ; 
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS
	MOVLW H'11' ; 
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS
	MOVLW H'11' ; 
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS
	MOVLW H'1F' ; 
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS

;---------------METE LAS 8 COLUMNAS DE LA IMAGEN 6------------
	MOVLW H'11' ; 					;IMAGEN INFERIOR 25%
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS
	MOVLW H'11' ; 
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS
	MOVLW H'11' ; 
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS
	MOVLW H'11' ; 
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS
	MOVLW H'13' ; 
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS
	MOVLW H'17' ; 
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS
	MOVLW H'1F' ; 
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS
	MOVLW H'1F' ; 
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS

;---------------METE LAS 8 COLUMNAS DE LA IMAGEN 7------------
	MOVLW H'17' ; 						;IMAGEN INFERIOR 50%
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS
	MOVLW H'FF' ; 
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS
	MOVLW H'FF' ; 
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS
	MOVLW H'FF' ; 
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS
	MOVLW H'FF'; 
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS
	MOVLW H'FF' ; 
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS
	MOVLW H'FF'; 
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS
	MOVLW H'FF'; 
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS


;-------------------SALE-------------------------
	BCF RS
	MOVLW B'00000001'
	MOVWF PORTB
	CALL LCD_E
	CALL RETARDO_5MS
	BSF RS

RETURN


;////////////////////////////////CARACTER DEL TERMISTOR///////////////////////


LOADCARACTERTEMPERATURA				;CARGA EL TRIANGULO

	
	BCF RS
	MOVLW B'01000000'				;comando para escribir en la CGRAM
	MOVWF PORTB
	CALL LCD_E
	CALL RETARDO_5MS
	BSF RS
;---------------METE LAS 8 COLUMNAS DE LA IMAGEN 1------------
	MOVLW H'1F' ; 							;IMAGEN IZQ 0%
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS
	MOVLW H'10' ; 
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS
	MOVLW H'08' ; 
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS
	MOVLW H'04' ; 
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS
	MOVLW H'04' ; 
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS
	MOVLW H'02' ; 
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS
	MOVLW H'02' ; 
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS
	MOVLW H'01' ; 
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS

;---------------METE LAS 8 COLUMNAS DE LA IMAGEN 2------------
	MOVLW H'1F' ; 						;IMAGEN DERECHA 0%
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS
	MOVLW H'01' ; 
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS
	MOVLW H'02' ; 
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS
	MOVLW H'04' ; 
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS
	MOVLW H'04' ; 
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS
	MOVLW H'08' ; 
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS
	MOVLW H'08' ; 
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS
	MOVLW H'10' ; 
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS

;---------------METE LAS 8 COLUMNAS DE LA IMAGEN 3------------
	MOVLW H'1F' ; 							;IMAGEN IZQ 33%
 	MOVWF PORTB	
 	CALL LCD_E
 	CALL RETARDO_5MS
	MOVLW H'10' ; 
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS
	MOVLW H'08' ; 
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS
	MOVLW H'04' ; 
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS
	MOVLW H'04' ; 
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS
	MOVLW H'03' ; 
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS
	MOVLW H'03' ; 
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS
	MOVLW H'01' ; 
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS

;---------------METE LAS 8 COLUMNAS DE LA IMAGEN 4------------
	MOVLW H'1F' ; 						;IMAGEN DERECHA 33%
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS
	MOVLW H'01' ; 
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS
	MOVLW H'02' ; 
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS
	MOVLW H'04' ; 
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS
	MOVLW H'04' ; 
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS
	MOVLW H'18' ; 
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS
	MOVLW H'18' ; 
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS
	MOVLW H'10' ; 
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS

;---------------METE LAS 8 COLUMNAS DE LA IMAGEN 5------------
	MOVLW H'1F' ; 						;IMAGEN IZQ 66%
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS
	MOVLW H'10' ; 
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS
	MOVLW H'08' ; 
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS
	MOVLW H'07' ; 
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS
	MOVLW H'07' ; 
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS
	MOVLW H'03' ; 
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS
	MOVLW H'03' ; 
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS
	MOVLW H'01' ; 
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS

;---------------METE LAS 8 COLUMNAS DE LA IMAGEN 6------------
	MOVLW H'1F' ; 						;IMAGEN DERECHA 66%
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS
	MOVLW H'01' ; 
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS
	MOVLW H'02' ; 
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS
	MOVLW H'1C' ; 
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS
	MOVLW H'1C' ; 
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS
	MOVLW H'18' ; 
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS
	MOVLW H'18' ; 
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS
	MOVLW H'10' ; 
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS

;---------------METE LAS 8 COLUMNAS DE LA IMAGEN 7------------
	MOVLW H'1F' ; 							;IMAGEN IZQ 100%
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS
	MOVLW H'1F' ; 
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS
	MOVLW H'0F' ; 
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS
	MOVLW H'07' ; 
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS
	MOVLW H'07'; 
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS
	MOVLW H'03' ; 
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS
	MOVLW H'03'; 
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS
	MOVLW H'01'; 
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS

;---------------METE LAS 8 COLUMNAS DE LA IMAGEN 8------------
	MOVLW H'1F' ; 							;IMAGEN DERECHA 100%
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS
	MOVLW H'1F' ; 
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS
	MOVLW H'1E' ; 
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS
	MOVLW H'1C' ; 
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS
	MOVLW H'1C' ; 
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS
	MOVLW H'18' ; 
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS
	MOVLW H'18' ; 
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS
	MOVLW H'10' ; 
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS

;-------------------SALE-------------------------
	BCF RS
	MOVLW B'00000001'
	MOVWF PORTB
	CALL LCD_E
	CALL RETARDO_5MS
	BSF RS

	RETURN

;/////////////////////////////////////////////////////////////////////////

ELIJE_FIGURA_VOLMETRO_ALTA
	MOVLW 0X33						;COMPARA PARA MOSTRAR LAS IMAGENES DEPENDIENDO DEL PORCENTAJE
	SUBWF guarda,W
	BTFSS STATUS,0
	GOTO IMPRIME_0H

	MOVLW 0X66						
	SUBWF guarda,W
	BTFSS STATUS,0
	GOTO IMPRIME_0H

	MOVLW 0X99	
	SUBWF guarda,W
	BTFSS STATUS,0
	GOTO IMPRIME_50H

	MOVLW 0XCC	
	SUBWF guarda,W
	BTFSS STATUS,0
	GOTO IMPRIME_75H

	MOVLW b'00000011' 
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS
SALEH
	RETURN
;---------------------------------------
ELIJE_FIGURA_VOLMETRO_BAJO
	MOVLW 0X33	
	SUBWF guarda,W
	BTFSS STATUS,0
	GOTO IMPRIME_0L

	MOVLW 0X66	
	SUBWF guarda,W
	BTFSS STATUS,0
	GOTO IMPRIME_25L

	MOVLW 0X99	
	SUBWF guarda,W
	BTFSS STATUS,0
	GOTO IMPRIME_50L

	MOVLW 0XCC	
	SUBWF guarda,W
	BTFSS STATUS,0
	GOTO IMPRIME_75L	
		
	MOVLW b'11111111' 				;IMPRIME TODO LLENO
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS
SALEL
	RETURN
;--------------------------------------------
IMPRIME_0H
	MOVLW b'00000000' 
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS
GOTO SALEH

IMPRIME_50H
	MOVLW b'00000001' 
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS
GOTO SALEH

IMPRIME_75H
	MOVLW b'00000010' 
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS
GOTO SALEH
;---------------------------------------
IMPRIME_0L
	MOVLW b'00000100' 
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS
GOTO SALEL

IMPRIME_25L
	MOVLW b'00000101' 
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS
GOTO SALEL

IMPRIME_50L
	MOVLW b'00000110' 
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS
GOTO SALEL

IMPRIME_75L
	MOVLW b'11111111' 
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS
GOTO SALEL


;////////////////////////////////////////////////////////////////////////
ELIJE_FIGURA_TEMP
	MOVLW 0X11	
	SUBWF guarda,W
	BTFSS STATUS,0
	GOTO IMPRIME_CERO

	MOVLW 0X43	
	SUBWF guarda,W
	BTFSS STATUS,0
	GOTO IMPRIME_TRES

	MOVLW 0X74	
	SUBWF guarda,W
	BTFSS STATUS,0
	GOTO IMPRIME_SEIS

	MOVLW b'00000110' 				;IMPRIME 100
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS

	MOVLW b'00000111' 
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS

	RETURN
;-----------------------------------------------
IMPRIME_CERO
	MOVLW b'00000000' 
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS

	MOVLW b'00000001' 
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS

	RETURN

IMPRIME_TRES
	MOVLW b'00000010' 
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS

	MOVLW b'00000011' 
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS

	RETURN

IMPRIME_SEIS
	MOVLW b'00000100' 
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS

	MOVLW b'00000101' 
 	MOVWF PORTB
 	CALL LCD_E
 	CALL RETARDO_5MS

	RETURN


